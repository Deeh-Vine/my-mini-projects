<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Amazon shipping</title>
   <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="Shipping-calculator.css">
</head>
<body>
   <div class="container">
      <h1 class="title"><span class="main">Amazon Shipping</span><br> Calculator</h1>
   <p>Enter your order amount to check shipping eligibility!</p>
   <div class="rules-box">
      <p>Shipping rules:</p>
   <ul>
      <li> Orders under $40 = <span class="shipping-fee">$10 shipping fee</span></li>
      <li> Orders $40 and above = <span class="free-shipping">Free shipping!</span></li>
   </ul>
   </div>
   
      <div class="input-wrapper">
         <span>Order Amount($USD):</span>
         <div class="input">
         <h3>$</h3>
         <input type="number" class="order-amount" placeholder="Enter order amount" />
         </div>
         <button class="check-shipping">Calculate Total</button>
      </div>
   
      <h3 class="shipping-result"></h3>
   </div>
   
   <script>
      const calcbtn = document.querySelector('.check-shipping');

      // const orderamount = document.querySelector('.order-amount').value;
      
      const inputelement= document.querySelector('.order-amount');
      inputelement.addEventListener('keydown', () => handlekeydown());

      const handlekeydown = () => {
         const key = event.key;
         if (key === 'Enter') {
            calcshippingfee();
         }
         else if (key === 'Escape') {
            inputelement.value = ''
         }
         else {
            return
         }
          
         // console.log (event.key)
      }
      
      

      calcbtn.addEventListener('click', () => calcshippingfee());
      
            const calcshippingfee = () => {
               const inputValue = document.querySelector('.order-amount').value;
               let orderamount = Number(inputValue)*100;
  
               if (inputValue === '' || isNaN(orderamount) || orderamount <= 0) {
                  document.querySelector('.shipping-result').innerText = `amount cannot be less than or equal to zero`;
               }
               else if (orderamount < 4000) { 
                  const total = orderamount / 100 + 10;
                  console.log(total);
                  document.querySelector('.shipping-result').innerText = `shipping fee : $ ${total}`;
               }
               else {
                  console.log(orderamount);
                  document.querySelector('.shipping-result').innerText = `you have free shipping!`;
               }
      }   
   </script>
</body>
</html>